<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>MaskBid</title>
  <link rel="stylesheet" href="./layui.css">
  <link rel="stylesheet" href="./gobal.css">
  <script src="./gobal.js"></script>
  <link rel="preload" href="//at.alicdn.com/t/font_2558898_nx7ptvgtpso.woff2" as="font" type="font/woff2"
    crossorigin="anonymous">
</head>

<body>
  <div class="layui-layout layui-layout-admin">

    <!-- 头部区域-->
    <div class="layui-header">
      <div class="layui-logo layui-bg-black">MaskBid</div>
      <ul class="layui-nav layui-layout-right">
        <li class="layui-nav-item layui-show-md-inline-block">
          <a>
            <p class="layui-nav-name" id="mainAccountNameShow"></p>
          </a>
          <dl class="layui-nav-child">
            <dd><a onclick="switchPage(this)">用户信息</a></dd>
            <dd><a onclick='window.location.replace("./");'>退出登录</a></dd>
          </dl>
        </li>
      </ul>
    </div>

    <!-- 左侧导航区域-->
    <div class="layui-side layui-bg-black">
      <div class="layui-side-scroll">
        <ul class="layui-nav layui-nav-tree layui-nav-child-c" lay-filter="test">
          <li class="layui-nav-item layui-this" id="bidSide"><a onclick="switchPage(this)">招标</a></li>
          <li class="layui-nav-item" id="auditSide"><a onclick="switchPage(this)">审计</a></li>
        </ul>
      </div>
    </div>

    <!-- 主体区域-->
    <div class="layui-body">
      <div class="mainContent">

        <!-- 投标 -->
        <div class="bidBox" id="bidBoxID">

          <!-- 投标对象修改 -->

          <!-- 进行招标 -->

          <div class="floatBidBox layui-hide" id="floatBidBoxID">
            <div class="layui-card layui-circle" id="bidModifyBox">
              <div class="layui-card-header">
                <h2>修改投标对象</h2>
                <span class="iconfont layui-btn layui-btn-primary" onclick="closeBidModify()">&#xe668;</span>
              </div>
              <div class="layui-card-body">
                <table class="layui-table">
                  <colgroup>
                    <col width="90px">
                    <col>
                  </colgroup>
                  <tbody>
                    <tr>
                      <td>招标机构</td>
                      <td class="tableElem">
                        <input type="text" name="bidAccount" required lay-verify="required" placeholder="请输入招标机构名称"
                          autocomplete="on" class="layui-input" id="bidModifySearchUnitInput">
                      </td>
                    </tr>
                    <tr>
                      <td>招标编号</td>
                      <td class="tableElem">
                        <input type="text" name="bidAccount" required lay-verify="required" placeholder="请输入招标编号"
                          autocomplete="on" class="layui-input" id="bidModifySearchCodeInput">
                      </td>
                    </tr>
                  </tbody>
                </table>
                <button type="button" class="layui-btn layui-btn-fluid" onclick="setBid()">确定</button>
              </div>
            </div>
          </div>

          <div class="fixCover layui-hide" id="bidBoxCoverID" onclick="closeBidModify()"></div>

          <div class="fixBidBox" id="fixBidBoxID">
            <!-- 招标信息 -->
            <div class="layui-card layui-circle">
              <div class="layui-card-header">
                <h2>招标信息</h2>
                <span class="iconfont layui-btn layui-btn-primary" onclick="openBidModify()">&#xe998;</span>
              </div>
              <div class="layui-card-body">
                <table class="layui-table">
                  <colgroup>
                    <col width="50%">
                    <col width="50%">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td class="table-out">
                        <table class="layui-table">
                          <colgroup>
                            <col width="90px">
                            <col>
                          </colgroup>
                          <tbody>
                            <tr>
                              <td>招标机构</td>
                              <td class="tableValue" id="tenderName"></td>
                            </tr>
                            <tr>
                              <td>发布日期</td>
                              <td class="tableValue" id="dateStart"></td>
                            </tr>
                            <tr>
                              <td>报价状态</td>
                              <td class="tableValue" id="status"></td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                      <td class="table-out">
                        <table class="layui-table">
                          <colgroup>
                            <col width="90px">
                            <col>
                          </colgroup>
                          <tbody>
                            <tr>
                              <td>招标编号</td>
                              <td class="tableValue" id="bidCode"></td>
                            </tr>
                            <tr>
                              <td>截止日期</td>
                              <td class="tableValue" id="dateEnd"></td>
                            </tr>
                            <tr>
                              <td>竞标人数</td>
                              <td class="tableValue" id="counts"></td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                    </tr>
                    <tr>
                      <td colspan="2" class="table-out">
                        <table class="layui-table">
                          <colgroup>
                            <col width="90px">
                            <col>
                          </colgroup>
                          <tbody>
                            <tr>
                              <td>招标名称</td>
                              <td class="tableValue" id="bidName"></td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <!-- 投标内容 -->
            <div class="layui-card layui-circle layui-hide" id="bidContentBox">
              <div class="layui-card-header">
                <h2>投标内容</h2>
              </div>
              <div class="layui-card-body">
                <table class="layui-table">
                  <colgroup>
                    <col width="90px">
                    <col>
                    <col width="100px">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td>投标机构</td>
                      <td class="tableElem" colspan="2">
                        <p class="bidFormTableValue" id="mianName"></p>
                      </td>
                    </tr>
                    <tr>
                      <td>投标金额</td>
                      <td class="tableElem" id="bidderAmountInput">
                        <input type="number" name="bidAccount" required lay-verify="required" placeholder="请输入投标金额"
                          autocomplete="off" class="layui-input" id="bidderAmount">
                      </td>
                      <td class="tableElem">
                        <button type="button" class="layui-btn" id="bidderAmountButton"
                          onclick="readBidderAmount()">确认金额</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <button type="button" class="layui-btn layui-btn-fluid" onclick="postBidContent()">提交投标</button>
              </div>
            </div>

            <!-- 投标进度 -->
            <div class="layui-card layui-circle layui-hide" id="bidProgressBox">
              <div class="layui-card-header">
                <h2>投标进度</h2>
                <button type="button" class="layui-btn layui-btn-danger layui-btn-sm cardTitleButton"
                  id="bidFormTablePrepareButtonID" onclick="prepareBid()">开始竞标</button>
                <button type="button" class="layui-btn layui-btn-sm cardTitleButton" id="bidFormTableResetButtonID"
                  onclick="resetBidderCotent()">撤回投标</button>
              </div>
              <div class="layui-card-body">
                <table class="layui-table">
                  <colgroup>
                    <col width="50%">
                    <col width="50%">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td class="table-out">
                        <table class="layui-table">
                          <colgroup>
                            <col width="90px">
                            <col>
                          </colgroup>
                          <tbody>
                            <tr>
                              <td>投标机构</td>
                              <td class="tableValue" id="bidNameMe"></td>
                            </tr>
                            <tr>
                              <td>投标状态</td>
                              <td class="tableValue" id="bidProgressTableRegistResult"></td>
                            </tr>
                            <tr>
                              <td>投标人数</td>
                              <td class="tableValue" id="bidProgressTableCountsNow"></td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                      <td class="table-out">
                        <table class="layui-table">
                          <colgroup>
                            <col width="90px">
                            <col>
                          </colgroup>
                          <tbody>
                            <tr>
                              <td>投标金额</td>
                              <td class="tableValue" id="bidAmountMe"></td>
                            </tr>
                            <tr>
                              <td>招标状态</td>
                              <td class="tableValue" id="bidProgressTableResult"></td>
                            </tr>
                            <tr>
                              <td>投标结果</td>
                              <td class="tableValue" id="bidResultMe"></td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <!-- 竞标信息 -->
            <div class="layui-card layui-circle layui-hide" id="bidInfoBox">
              <div class="layui-card-header">
                <h2>竞标信息</h2>
                <span class="iconfont layui-btn layui-btn-primary" onclick="refreshBidContent()">&#xe992;</span>
              </div>
              <div class="layui-card-body">
                <table class="layui-table">
                  <colgroup>
                    <col width="90px">
                    <col width="500px">
                    <col>
                    <col width="100px">
                  </colgroup>
                  <thead>
                    <tr>
                      <th>编号</th>
                      <th>投标机构名称</th>
                      <th>投标机构公钥</th>
                      <th>投标结果</th>
                    </tr>
                  </thead>
                  <tbody id="bidInfoTableBody">
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- 审计 -->
        <div class="auditBox layui-hide" id="auditBoxID">
          <div class="layui-card layui-circle" id="bidModifyBox">
            <div class="layui-card-header">
              <h2>审计</h2>
            </div>
            <div class="layui-card-body">
              <!-- 搜索部分 -->
              <div class="bidModifySearchBox">
                <p>招标单位</p>
                <input type="text" name="bidAccount" required lay-verify="required" placeholder="请输入招标单位"
                  autocomplete="on" class="layui-input" id="bidAuditSearchUnitInput">
                <div class="divide"></div>
                <p>招标编号</p>
                <input type="text" name="bidAccount" required lay-verify="required" placeholder="请输入招标编号"
                  autocomplete="on" class="layui-input" id="bidAuditSearchCodeInput">
                <div class="divide"></div>
                <button type="button" class="layui-btn layui-btn-fluid layui-btn-primary" id="bidAuditSearchButton"
                  onclick="loadRegList()">加载竞标</button>
              </div>
              <!-- 选择部分 -->
              <div class="bidAuditSearchBox">


                <!-- <table class="bidInfoTable">
                  <thead>
                    <th class="bidListTableHead bidListTableHead0">
                      <input type="checkbox" class="bidListCheckbox" id="bidListCheckAll" onclick="checkAll()">
                    </th>
                    <th class="bidListTableHead bidListTableHead1">编号</th>
                    <th class="bidListTableHead bidListTableHead2">投标机构名称</th>
                    <th class="bidListTableHead bidListTableHead3">投标机构公钥</th>
                    <th class="bidListTableHead bidListTableHead4">投标结果</th>
                    <th class="bidListTableHead bidListTableHead5">审计结果</th>
                  </thead>
                  <tbody id="bidListTableBody"></tbody>
                </table> -->

                <table class="layui-table layui-hide" id="bidAuditSearchTable">
                  <colgroup>
                    <col width="50px">
                    <col width="90px">
                    <col width="200px">
                    <col>
                    <col width="100px">
                    <col width="100px">
                  </colgroup>
                  <thead>
                    <tr>
                      <th>
                        <input type="checkbox" class="bidListCheckbox" id="bidListCheckAll" onclick="checkAll()">
                      </th>
                      <th>编号</th>
                      <th>投标机构名称</th>
                      <th>投标机构公钥</th>
                      <th>投标结果</th>
                      <th>审计结果</th>
                    </tr>
                  </thead>
                  <tbody id="bidListTableBody">
                  </tbody>
                </table>
                <button type="button" class="layui-btn layui-btn-fluid layui-hide" id="bidAuditButton"
                  onclick="startAudit()">审计</button>
                <!-- <button class="longButton auditButton" id="bidAuditSearchButton" onclick="startAudit()">审计</button> -->
              </div>
            </div>
          </div>
        </div>

        <!-- 用户信息 -->
        <div class="settingBox layui-hide" id="settingBoxID">
          <div class="layui-card layui-circle" id="settingUserInfo">
            <div class="layui-card-header">
              <h2>用户信息</h2>
            </div>
            <div class="layui-card-body">
              <table class="layui-table">
                <colgroup>
                  <col width="150">
                  <col>
                </colgroup>
                <tbody>
                  <tr>
                    <td class="tableKey">用户名</td>
                    <td class="tableValue tableAlignRight" id="accountInfoName"></td>
                  </tr>
                  <tr>
                    <td class="tableKey">用户地址</td>
                    <td class="tableValue tableAlignRight" id="accountInfoAddrress"></td>
                  </tr>
                  <tr>
                    <td class="tableKey">公钥</td>
                    <td class="tableValue tableAlignRight infoPK" id="accountInfoPK"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </div>

    </div>

    <div class="layui-footer">
      <!-- 底部固定区域 -->

    </div>
  </div>
  <script src="./layui.js"></script>
  <script>
    //JS 
    layui.use(['element', 'layer', 'util'], function () {
      var element = layui.element
        , layer = layui.layer
        , util = layui.util
        , $ = layui.$;

      //头部事件
      util.event('lay-header-event', {
        //左侧菜单事件
        menuLeft: function (othis) {
          layer.msg('展开左侧菜单的操作', { icon: 0 });
        }
        , menuRight: function () {
          layer.open({
            type: 1
            , content: '<div style="padding: 15px;">处理右侧面板的操作</div>'
            , area: ['260px', '100%']
            , offset: 'rt' //右上角
            , anim: 5
            , shadeClose: true
          });
        }
      });


    });
    window.onload = listAccountInfo;
  </script>
</body>

</html>